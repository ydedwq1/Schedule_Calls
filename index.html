<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Расписание звонков</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .current-time {
            font-size: 1.2rem;
            margin-top: 10px;
            background: rgba(255, 255, 255, 0.2);
            padding: 10px;
            border-radius: 10px;
            display: inline-block;
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .schedule-section {
            flex: 1;
            min-width: 300px;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .schedule-title {
            text-align: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #6a11cb;
            color: #6a11cb;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }
        
        th, td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }
        
        th {
            background-color: #f8f9fa;
            color: #6a11cb;
            font-weight: 600;
        }
        
        tr:hover {
            background-color: #f8f9fa;
        }
        
        .time-tracker {
            background: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .tracker-title {
            color: #6a11cb;
            margin-bottom: 20px;
        }
        
        .next-lesson {
            font-size: 1.5rem;
            margin: 15px 0;
            padding: 15px;
            background: #f0f5ff;
            border-radius: 10px;
            display: inline-block;
        }
        
        .countdown {
            font-size: 2rem;
            font-weight: bold;
            color: #6a11cb;
            margin: 15px 0;
        }
        
        .current-status {
            font-size: 1.2rem;
            margin-top: 15px;
            padding: 10px;
            border-radius: 10px;
            display: inline-block;
        }
        
        .lesson { background-color: #ffe6e6; }
        .break { background-color: #e6ffe6; }
        .finished { background-color: #f0f0f0; }
        
        footer {
            text-align: center;
            color: white;
            padding: 20px;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .countdown {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Расписание звонков</h1>
            <div class="current-time" id="current-time">Текущее время: --:--:--</div>
        </header>
        
        <div class="time-tracker">
            <h2 class="tracker-title">Отслеживание времени</h2>
            <div id="next-lesson" class="next-lesson">Загрузка...</div>
            <div id="countdown" class="countdown">--:--:--</div>
            <div id="current-status" class="current-status">Определение статуса...</div>
        </div>
        
        <div class="main-content">
            <div class="schedule-section">
                <h3 class="schedule-title">1 смена (понедельник, вторник)</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Урок</th>
                            <th>Начало</th>
                            <th>Окончание</th>
                            <th>Перемена</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td>08:00</td><td>08:40</td><td>00:10</td></tr>
                        <tr><td>2</td><td>08:50</td><td>09:30</td><td>00:15</td></tr>
                        <tr><td>3</td><td>09:45</td><td>10:25</td><td>00:15</td></tr>
                        <tr><td>4</td><td>10:40</td><td>11:20</td><td>00:10</td></tr>
                        <tr><td>5</td><td>11:30</td><td>12:10</td><td>00:05</td></tr>
                        <tr><td>6</td><td>12:15</td><td>12:55</td><td></td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="schedule-section">
                <h3 class="schedule-title">1 смена ежедневное</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Урок</th>
                            <th>Начало</th>
                            <th>Окончание</th>
                            <th>Перемена</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td>08:00</td><td>08:40</td><td>00:10</td></tr>
                        <tr><td>2</td><td>08:50</td><td>09:30</td><td>00:15</td></tr>
                        <tr><td>3</td><td>09:45</td><td>10:25</td><td>00:15</td></tr>
                        <tr><td>4</td><td>10:40</td><td>11:20</td><td>00:15</td></tr>
                        <tr><td>5</td><td>11:35</td><td>12:15</td><td>00:10</td></tr>
                        <tr><td>6</td><td>12:25</td><td>13:05</td><td></td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="schedule-section">
                <h3 class="schedule-title">1 смена в субботу</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Урок</th>
                            <th>Начало</th>
                            <th>Окончание</th>
                            <th>Перемена</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td>08:00</td><td>08:40</td><td>00:05</td></tr>
                        <tr><td>2</td><td>08:45</td><td>09:25</td><td>00:10</td></tr>
                        <tr><td>3</td><td>09:35</td><td>10:15</td><td>00:10</td></tr>
                        <tr><td>4</td><td>10:25</td><td>11:05</td><td>00:10</td></tr>
                        <tr><td>5</td><td>11:15</td><td>11:55</td><td>00:05</td></tr>
                        <tr><td>6</td><td>12:00</td><td>12:40</td><td></td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="schedule-section">
                <h3 class="schedule-title">2 смена (понедельник)</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Урок</th>
                            <th>Начало</th>
                            <th>Окончание</th>
                            <th>Перемена</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td>13:00</td><td>13:40</td><td>00:10</td></tr>
                        <tr><td>2</td><td>13:50</td><td>14:30</td><td>00:10</td></tr>
                        <tr><td>3</td><td>14:40</td><td>15:20</td><td>00:05</td></tr>
                        <tr><td>4</td><td>15:25</td><td>16:05</td><td>00:05</td></tr>
                        <tr><td>5</td><td>15:10</td><td>16:50</td><td>00:05</td></tr>
                        <tr><td>6</td><td>16:55</td><td>17:35</td><td>00:05</td></tr>
                        <tr><td>7</td><td>17:40</td><td>18:20</td><td></td></tr>
                    </tbody>
                </table>
            </div>
            
            <div class="schedule-section">
                <h3 class="schedule-title">2 смена (ежедневное)</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Урок</th>
                            <th>Начало</th>
                            <th>Окончание</th>
                            <th>Перемена</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td>13:30</td><td>14:10</td><td>00:10</td></tr>
                        <tr><td>2</td><td>14:20</td><td>15:00</td><td>00:10</td></tr>
                        <tr><td>3</td><td>15:15</td><td>15:55</td><td>00:05</td></tr>
                        <tr><td>4</td><td>16:00</td><td>16:40</td><td>00:05</td></tr>
                        <tr><td>5</td><td>16:45</td><td>17:25</td><td>00:05</td></tr>
                        <tr><td>6</td><td>17:30</td><td>18:10</td><td>00:05</td></tr>
                        <tr><td>7</td><td>18:15</td><td>19:55</td><td></td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <footer>
            <p>© 2023 Расписание звонков | Все права защищены</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const currentTimeElement = document.getElementById('current-time');
            const nextLessonElement = document.getElementById('next-lesson');
            const countdownElement = document.getElementById('countdown');
            const currentStatusElement = document.getElementById('current-status');
            
            // Определяем текущий день недели (0 - воскресенье, 1 - понедельник и т.д.)
            const now = new Date();
            const dayOfWeek = now.getDay();
            const isSaturday = dayOfWeek === 6;
            
            // Выбираем подходящее расписание в зависимости от дня и времени
            let schedule;
            if (dayOfWeek === 1 || dayOfWeek === 2) { // Понедельник или вторник
                schedule = getFirstShiftMondayTuesday();
            } else if (isSaturday) { // Суббота
                schedule = getFirstShiftSaturday();
            } else if (dayOfWeek === 0) { // Воскресенье
                // В воскресенье нет уроков
                schedule = [];
            } else { // Другие дни
                // Проверяем время для определения смены
                const currentHour = now.getHours();
                if (currentHour < 13) {
                    schedule = getFirstShiftDaily();
                } else {
                    schedule = getSecondShiftDaily();
                }
            }
            
            // Функции для получения расписаний
            function getFirstShiftMondayTuesday() {
                return [
                    {lesson: 1, start: timeToDate("08:00"), end: timeToDate("08:40"), break: 10},
                    {lesson: 2, start: timeToDate("08:50"), end: timeToDate("09:30"), break: 15},
                    {lesson: 3, start: timeToDate("09:45"), end: timeToDate("10:25"), break: 15},
                    {lesson: 4, start: timeToDate("10:40"), end: timeToDate("11:20"), break: 10},
                    {lesson: 5, start: timeToDate("11:30"), end: timeToDate("12:10"), break: 5},
                    {lesson: 6, start: timeToDate("12:15"), end: timeToDate("12:55"), break: 0}
                ];
            }
            
            function getFirstShiftDaily() {
                return [
                    {lesson: 1, start: timeToDate("08:00"), end: timeToDate("08:40"), break: 10},
                    {lesson: 2, start: timeToDate("08:50"), end: timeToDate("09:30"), break: 15},
                    {lesson: 3, start: timeToDate("09:45"), end: timeToDate("10:25"), break: 15},
                    {lesson: 4, start: timeToDate("10:40"), end: timeToDate("11:20"), break: 15},
                    {lesson: 5, start: timeToDate("11:35"), end: timeToDate("12:15"), break: 10},
                    {lesson: 6, start: timeToDate("12:25"), end: timeToDate("13:05"), break: 0}
                ];
            }
            
            function getFirstShiftSaturday() {
                return [
                    {lesson: 1, start: timeToDate("08:00"), end: timeToDate("08:40"), break: 5},
                    {lesson: 2, start: timeToDate("08:45"), end: timeToDate("09:25"), break: 10},
                    {lesson: 3, start: timeToDate("09:35"), end: timeToDate("10:15"), break: 10},
                    {lesson: 4, start: timeToDate("10:25"), end: timeToDate("11:05"), break: 10},
                    {lesson: 5, start: timeToDate("11:15"), end: timeToDate("11:55"), break: 5},
                    {lesson: 6, start: timeToDate("12:00"), end: timeToDate("12:40"), break: 0}
                ];
            }
            
            function getSecondShiftDaily() {
                return [
                    {lesson: 1, start: timeToDate("13:30"), end: timeToDate("14:10"), break: 10},
                    {lesson: 2, start: timeToDate("14:20"), end: timeToDate("15:00"), break: 10},
                    {lesson: 3, start: timeToDate("15:15"), end: timeToDate("15:55"), break: 5},
                    {lesson: 4, start: timeToDate("16:00"), end: timeToDate("16:40"), break: 5},
                    {lesson: 5, start: timeToDate("16:45"), end: timeToDate("17:25"), break: 5},
                    {lesson: 6, start: timeToDate("17:30"), end: timeToDate("18:10"), break: 5},
                    {lesson: 7, start: timeToDate("18:15"), end: timeToDate("19:55"), break: 0}
                ];
            }
            
            // Преобразует строку времени в объект Date с текущей датой
            function timeToDate(timeStr) {
                const [hours, minutes] = timeStr.split(':').map(Number);
                const date = new Date();
                date.setHours(hours, minutes, 0, 0);
                return date;
            }
            
            // Обновляет время каждую секунду
            function updateTime() {
                const now = new Date();
                currentTimeElement.textContent = `Текущее время: ${formatTime(now)}`;
                
                // Если сегодня воскресенье
                if (dayOfWeek === 0) {
                    nextLessonElement.textContent = "Сегодня воскресенье - выходной!";
                    countdownElement.textContent = "";
                    currentStatusElement.textContent = "Нет уроков";
                    currentStatusElement.className = "current-status finished";
                    return;
                }
                
                // Если расписание пустое
                if (schedule.length === 0) {
                    nextLessonElement.textContent = "На сегодня уроков нет";
                    countdownElement.textContent = "";
                    currentStatusElement.textContent = "Свободное время";
                    currentStatusElement.className = "current-status finished";
                    return;
                }
                
                // Проверяем текущий статус (урок, перемена или нет уроков)
                let currentLesson = null;
                let nextEvent = null;
                let status = "";
                
                for (let i = 0; i < schedule.length; i++) {
                    const lesson = schedule[i];
                    
                    // Если сейчас идет урок
                    if (now >= lesson.start && now < lesson.end) {
                        currentLesson = lesson;
                        status = "lesson";
                        nextEvent = {time: lesson.end, type: "break", lesson: lesson.lesson};
                        break;
                    }
                    
                    // Если сейчас перемена после урока
                    if (i < schedule.length - 1 && now >= lesson.end && now < schedule[i+1].start) {
                        currentLesson = lesson;
                        status = "break";
                        nextEvent = {time: schedule[i+1].start, type: "lesson", lesson: schedule[i+1].lesson};
                        break;
                    }
                }
                
                // Если не нашли текущий урок или перемену
                if (!nextEvent) {
                    // Если время до первого урока
                    if (now < schedule[0].start) {
                        status = "before";
                        nextEvent = {time: schedule[0].start, type: "lesson", lesson: schedule[0].lesson};
                    } 
                    // Если время после последнего урока
                    else if (now >= schedule[schedule.length-1].end) {
                        status = "after";
                        nextEvent = null;
                    }
                }
                
                // Обновляем интерфейс в зависимости от статуса
                if (status === "lesson" && currentLesson) {
                    currentStatusElement.textContent = `Идет ${currentLesson.lesson}-й урок`;
                    currentStatusElement.className = "current-status lesson";
                    nextLessonElement.textContent = `Перемена через:`;
                } 
                else if (status === "break") {
                    currentStatusElement.textContent = `Сейчас перемена после ${currentLesson.lesson}-го урока`;
                    currentStatusElement.className = "current-status break";
                    nextLessonElement.textContent = `Следующий урок через:`;
                } 
                else if (status === "before") {
                    currentStatusElement.textContent = "Уроки еще не начались";
                    currentStatusElement.className = "current-status";
                    nextLessonElement.textContent = `До первого урока:`;
                } 
                else if (status === "after") {
                    currentStatusElement.textContent = "Уроки уже закончились";
                    currentStatusElement.className = "current-status finished";
                    nextLessonElement.textContent = "";
                    countdownElement.textContent = "";
                    return;
                }
                
                // Если есть следующее событие, показываем обратный отсчет
                if (nextEvent) {
                    const timeDiff = nextEvent.time - now;
                    const hours = Math.floor(timeDiff / (1000 * 60 * 60));
                    const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);
                    
                    countdownElement.textContent = `${padZero(hours)}:${padZero(minutes)}:${padZero(seconds)}`;
                }
            }
            
            // Форматирует время в формат ЧЧ:ММ:СС
            function formatTime(date) {
                return `${padZero(date.getHours())}:${padZero(date.getMinutes())}:${padZero(date.getSeconds())}`;
            }
            
            // Добавляет ведущий ноль к числам меньше 10
            function padZero(num) {
                return num < 10 ? `0${num}` : num;
            }
            
            // Запускаем обновление времени каждую секунду
            updateTime();
            setInterval(updateTime, 1000);
        });
    </script>
</body>
</html>